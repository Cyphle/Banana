<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
      layout:decorator="expense/form">
<head>
  <title>Dépense</title>
</head>
<body>
<div layout:fragment="expense-form" class="page-form">
  <form th:action="@{/expenses/update}" method="POST">
    <input type="hidden" name="accountId" th:value="${expenseForm.accountId}" />
    <input type="hidden" name="accountId" th:value="${expenseForm.budgetId > 0 ? expenseForm.budgetId : -1}" />
    <input type="hidden" name="id" th:value="${expenseForm.id}" />
    <div>
      <input type="text" name="expenseDate" placeholder="Date de dépense" id="expense-date" th:value="${expenseForm != null ? #dates.format(expenseForm.expenseDate, 'dd/MM/yyyy') : ''}"/>
    </div>
    <div>
      <input type="text" name="debitDate" placeholder="Date de débit" id="debit-date" th:value="${expenseForm != null and expenseForm.debitDate != null ? #dates.format(expenseForm.debitDate, 'dd/MM/yyyy') : ''}" />
    </div>
    <div>
      <input type="text" name="description" placeholder="Description" th:value="${expenseForm != null ? expenseForm.description : ''}" />
    </div>
    <div>
      <input type="text" name="amount" placeholder="Montant" th:value="${expenseForm != null ? expenseForm.amount : ''}" />
    </div>
    <div>
      <input type="submit" value="Create" />
    </div>
  </form>
</div>
</body>
</html>
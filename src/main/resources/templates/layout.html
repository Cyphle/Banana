<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="robots" content="noindex,nofollow"/>
  <meta charset="UTF-8"/>
  <link rel="stylesheet" th:href="@{/vendors/css/normalize.css}"/>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
  <link rel="stylesheet" th:href="@{/vendors/css/materialize.css}"/>
  <link rel="stylesheet" th:href="@{/css/dist/layout.min.css}"/>
  <script th:src="@{/vendors/javascript/modernizr.js}"></script>
</head>
<body>
<header>
  <nav>
    <div class="nav-wrapper">
      <a th:href="@{/}" class="brand-logo"><img th:src="@{/images/BananaLogo.png}" alt="Logo"/></a>
      <ul class="right hide-on-med-and-down">
        <li>
          <a href="#!user"><i class="material-icons">mail_outline</i></a>
        </li>
        <li><a href="#" data-activates="slide-out" class="button-collapse side-menu-button"><i class="material-icons">menu</i></a></li>
      </ul>
    </div>
  </nav>
</header>

<section class="side-menu">
  <ul id="slide-out" class="side-nav">
    <li>
      <div class="user-view">
        <div class="background">
          <img th:src="@{/images/BananaLogo.png}" alt="Logo"/>
        </div>
        <a href="#!name"><span class="white-text name"><span th:text="${user != null ? user.firstname : ''}"></span> <span th:text="${user != null ? user.lastname : ''}"></span></span></a>
        <a href="#!email"><span class="white-text email"><span th:text="${user != null ? user.username : ''}"></span></span></a>
      </div>
    </li>
    <li>
      <div class="divider"></div>
    </li>
    <li sec:authorize="isAuthenticated()"><a th:href="@{/profile}" class="waves-effect">Mon profil</a></li>
    <li sec:authorize="!isAuthenticated()"><a th:href="@{/login}">Connexion</a></li>
    <li sec:authorize="!isAuthenticated()"><a th:href="@{/register}">Inscription</a></li>
    <li sec:authorize="isAuthenticated()">
      <form th:action="@{/logout}" method="post">
        <input class="button" type="submit" value="Déconnexion"/>
      </form>
    </li>
    <li>
      <div class="divider"></div>
    </li>
    <li><a class="subheader">Gestion de compte</a></li>
    <li sec:authorize="isAuthenticated()"><a th:href="@{/accounts}" class="waves-effect">Mes comptes</a></li>
    <li sec:authorize="isAuthenticated()"><a th:href="@{/accounts/create}" class="waves-effect">Créer un compte</a></li>
    <li sec:authorize="isAuthenticated()"><a th:href="@{/accounts}" class="waves-effect">Créer un budget</a></li>
    <li sec:authorize="isAuthenticated()"><a th:href="@{/accounts}" class="waves-effect">Ajouter une charge</a></li>
    <li sec:authorize="isAuthenticated()"><a th:href="@{/accounts}" class="waves-effect">Ajouter une dépense</a></li>
    <li sec:authorize="isAuthenticated()"><a th:href="@{/accounts}" class="waves-effect">Ajouter un crédit</a></li>
  </ul>
</section>

<section layout:fragment="content">
</section>

<footer layout:fragment="footer">
  Aurevoir
</footer>

<script th:src="@{/vendors/javascript/jquery-3.2.1.min.js}"></script>
<script th:src="@{/vendors/javascript/materialize.min.js}"></script>
<script th:src="@{/javascript/dist/layout.bundle.min.js}"></script>
<div layout:fragment="scripts"></div>
</body>
</html>